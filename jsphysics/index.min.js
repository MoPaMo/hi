let engine=Matter.Engine.create();function findGetParameter(parameterName){return window.location.href.split("#")[1]}let render=Matter.Render.create({element:document.body,engine:engine,options:{width:1600,height:800,wireframes:!1}}),BallArray=[],mouse=Matter.Mouse.create(render.canvas),mouseConstraint=Matter.MouseConstraint.create(engine,{mouse:mouse,constraint:{render:{visible:!1}}});render.mouse=mouse;const svg=[...[...document.querySelectorAll("#sleigh > path")].map(path=>{const body=Matter.Bodies.fromVertices(1e3,80,Matter.Svg.pathToVertices(path),{render:{fillStyle:"white",strokeStyle:"red"}},!0);return Matter.Body.scale(body,.2,.2),body}),...[...document.querySelectorAll("#igloo > path")].map(path=>{const body=Matter.Bodies.fromVertices(1e3,80,Matter.Svg.pathToVertices(path),{render:{fillStyle:"white"}},!0);return Matter.Body.scale(body,.2,.2),body}),...[...document.querySelectorAll("#icles > path")].map(path=>{const body=Matter.Bodies.fromVertices(1e3,80,Matter.Svg.pathToVertices(path),{render:{fillStyle:"white"}},!0);return Matter.Body.scale(body,.2,.2),body}),...[...document.querySelectorAll("#snowman > path")].map(path=>{const body=Matter.Bodies.fromVertices(500,80,Matter.Svg.pathToVertices(path),{render:{fillStyle:"white",strokeStyle:"red"}},!0);return Matter.Body.scale(body,.2,.2),body}),...[...document.querySelectorAll("#candy > path")].map(path=>{const body=Matter.Bodies.fromVertices(1e3,80,Matter.Svg.pathToVertices(path),{render:{fillStyle:"red"}},!0);return Matter.Body.scale(body,.2,.2),body}),...[...document.querySelectorAll("svg#tree > path")].map(path=>{const body=Matter.Bodies.fromVertices(100,80,Matter.Svg.pathToVertices(path),{render:{fillStyle:"green",strokeStyle:"white",lineWidth:5}},!0);return Matter.Body.scale(body,.2,.2),body})];var platform,bodies;switch(findGetParameter("id")){case"1":var bodies=[svg[0],svg[2]],platform=[Matter.Bodies.rectangle(1200,500,500,20,{isStatic:!0})];break;case"2":var bodies=[svg[0],svg[1]],platform=[Matter.Bodies.rectangle(1200,500,300,20,{isStatic:!0})];break;default:var bodies=[svg[0],svg[2]],platform=[Matter.Bodies.rectangle(1200,500,300,20,{isStatic:!0})]}let stopper=Matter.Bodies.circle(300,700,2,{isStatic:!0}),ball=Matter.Bodies.circle(300,600,20),sling=Matter.Constraint.create({pointA:{x:300,y:600},bodyB:ball,stiffness:.05}),firing=!1;Matter.Events.on(mouseConstraint,"enddrag",(function(e){e.body===ball&&(firing=!0),console.log("fired")})),Matter.Events.on(engine,"afterUpdate",(function(){if(firing&&Math.abs(ball.position.x-300)<20&&Math.abs(ball.position.y-600)<20){let ball2=ball;sling.bodyB=stopper,setTimeout((function(){ball=Matter.Bodies.circle(300,600,20),Matter.World.add(engine.world,ball),sling.bodyB=ball}),1e3),setTimeout((function(){BallArray.push(ball2)}),3e3),firing=!1}for(bAll of BallArray)Matter.Body.scale(bAll,.999,.999),bAll.r<4&&Matter.World.remove(engine.world,bAll)}));var bodies=[svg[0],svg[2]];Matter.World.add(engine.world,[mouseConstraint,ball,sling,stopper].concat(bodies).concat(platform)),Matter.Engine.run(engine),Matter.Render.run(render),console.log(bodies),document.getElementById("Loading").innerHTML="";